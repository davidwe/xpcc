<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: (AMNB) Asynchronous Multi-Node Bus</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__amnb.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">(AMNB) Asynchronous Multi-Node Bus</div>  </div>
<div class="ingroups"><a class="el" href="group__connectivity.html">Connectivity</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1amnb_1_1_interface.html">xpcc::amnb::Interface&lt; Device &gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">AMNB interface.  <a href="classxpcc_1_1amnb_1_1_interface.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1amnb_1_1_response.html">xpcc::amnb::Response</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classxpcc_1_1amnb_1_1_response.html" title="Response object for an action call.">Response</a> object for an action call.  <a href="classxpcc_1_1amnb_1_1_response.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1amnb_1_1_callable.html">xpcc::amnb::Callable</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Base-class for every object which should be used inside a callback.  <a href="structxpcc_1_1amnb_1_1_callable.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1amnb_1_1_action.html">xpcc::amnb::Action</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible <a class="el" href="structxpcc_1_1amnb_1_1_action.html" title="Possible Action.">Action</a>.  <a href="structxpcc_1_1amnb_1_1_action.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1amnb_1_1_listener.html">xpcc::amnb::Listener</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible <a class="el" href="structxpcc_1_1amnb_1_1_listener.html" title="Possible Listener.">Listener</a>.  <a href="structxpcc_1_1amnb_1_1_listener.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxpcc_1_1amnb_1_1_error_handler.html">xpcc::amnb::ErrorHandler</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible Error.  <a href="structxpcc_1_1amnb_1_1_error_handler.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1amnb_1_1_node.html">xpcc::amnb::Node&lt; Interface &gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">AMNB <a class="el" href="classxpcc_1_1amnb_1_1_node.html" title="AMNB Node.">Node</a>.  <a href="classxpcc_1_1amnb_1_1_node.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#ga5ba1d96e88ef2e3189fc07af8f758a94">AMNB__ACTION</a>(command, object, function, length)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a amnb::Action.  <a href="#ga5ba1d96e88ef2e3189fc07af8f758a94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#gac9e174dbfa0dff218a593e63321d0cce">AMNB__LISTEN</a>(address, command, object, function)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a amnb::Listener.  <a href="#gac9e174dbfa0dff218a593e63321d0cce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#gac462596130c1e5f05fffe34773311e1c">AMNB__ERROR</a>(address, command, object, function)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a amnb::ErrorHandler.  <a href="#gac462596130c1e5f05fffe34773311e1c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#gac3b87049713c290d3ae496621d7536b4">xpcc::amnb::Error</a> { <br/>
&#160;&#160;<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a1edbc2c629ffee54b54e3912008e11b8">xpcc::amnb::ERROR__GENERAL_ERROR</a> =  0x00, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a89948133759c53ab5adfdcfe85a6b4e5">xpcc::amnb::ERROR__ACTION_NO_ACTION</a> =  0x01, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a1824225512dd1f2e8a9eee28c5cb5d43">xpcc::amnb::ERROR__ACTION_WRONG_PAYLOAD_LENGTH</a> =  0x02, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4abeb9e2bbad9cd0ef4ce44e458ac385b6">xpcc::amnb::ERROR__ACTION_NO_RESPONSE</a> =  0x03, 
<br/>
&#160;&#160;<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a85d1cf4cd479920b731f7dc0910063b0">xpcc::amnb::ERROR__QUERY_ERROR_CODE</a> =  0x04, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a44e3f625c1b45df1f34a6a7467446ace">xpcc::amnb::ERROR__QUERY_TIMEOUT</a> =  0x05, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a2e2f363220d35e24db2d5088b9d6162b">xpcc::amnb::ERROR__QUERY_WRONG_PAYLOAD_LENGTH</a> =  0x06, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a78a185247b3245f0447bbb6827217977">xpcc::amnb::ERROR__QUERY_IN_PROGRESS</a> =  0x07, 
<br/>
&#160;&#160;<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a3dc022d1e4841591305f620e3d100369">xpcc::amnb::ERROR__TRANSMITTER_BUSY</a> =  0x08, 
<a class="el" href="group__amnb.html#ggac3b87049713c290d3ae496621d7536b4a16a7c6c7b1e5302990dfb5b3ae529c6f">xpcc::amnb::ERROR__MESSAGE_OVERWRITTEN</a> =  0x09
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Error code.  <a href="group__amnb.html#gac3b87049713c290d3ae496621d7536b4">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#ga9d51acabbd29c61b9931e2ebae600686">xpcc::amnb::Flags</a> { <a class="el" href="group__amnb.html#gga9d51acabbd29c61b9931e2ebae600686a1ad0dc82868c547f4ceb989b4b104f8c">xpcc::amnb::BROADCAST</a> =  0x00, 
<a class="el" href="group__amnb.html#gga9d51acabbd29c61b9931e2ebae600686abc0cc523493221a5252ba5158ad1eb49">xpcc::amnb::REQUEST</a> =  0x40, 
<a class="el" href="group__amnb.html#gga9d51acabbd29c61b9931e2ebae600686a3d15367875437d4704134aa896c09547">xpcc::amnb::NACK</a> =  0x80, 
<a class="el" href="group__amnb.html#gga9d51acabbd29c61b9931e2ebae600686a0854ac17d8dcb980a1218b1fccad5269">xpcc::amnb::ACK</a> =  0xc0
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags.  <a href="group__amnb.html#ga9d51acabbd29c61b9931e2ebae600686">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3373b80bb1a758b8821487802750735d"></a><!-- doxytag: member="amnb::maxPayloadLength" ref="ga3373b80bb1a758b8821487802750735d" args="" -->
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__amnb.html#ga3373b80bb1a758b8821487802750735d">xpcc::amnb::maxPayloadLength</a> = 32</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length for the payload. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="amnb_intro"></a>
Introduction</h2>
<p>The AMNB (<b>A</b>synchronous <b>M</b>ulti-<b>N</b>ode <b>B</b>us) is a multi-master bus system, using p-persitent CSMA to send messages.</p>
<p>One bus can be populated with up to 32 nodes. The nodes can be queried for data and they will respond like an SAB Slave, and can query data from other nodes like an SAB Master, or they can just broadcast a message. Each node can listen to all the responses and broadcasts and store that information for its purpose.</p>
<p>Action callbacks to query requests can be defined as well as universal callbacks to any transmitted messaged (Listener callbacks). As an optional advanced feature, error handling callbacks can also be defined, which fire if messaged have not been able to be sent, or requests timed out or misbehaved in other manners, or other nodes query unavailable information.</p>
<h2><a class="anchor" id="amnb_protocol"></a>
Protocol</h2>
<p>Features:</p>
<ul>
<li>Baudrate is 115200 Baud.</li>
<li>Maximum payload length is 32 byte.</li>
<li>CRC8 (1-Wire)</li>
</ul>
<h3><a class="anchor" id="structure"></a>
Structure</h3>
<div class="fragment"><pre class="fragment">
+------+--------+--------+---------+--------------+-----+
| SYNC | LENGTH | HEADER | COMMAND | ... DATA ... | CRC |
+------+--------+--------+---------+--------------+-----+
</pre></div><ul>
<li><b>SYNC</b> - Synchronization byte (always 0x54)</li>
<li><b>LENGTH</b> - Length of the payload (without header, command and CRC byte)</li>
<li><b>HEADER</b> - Address of the slave and two flag bits</li>
<li><b>COMMAND</b> - Command code</li>
<li><b>DATA</b> - Up to 32 byte of payload</li>
<li><b>CRC</b> - CRC-8 checksum (iButton)</li>
</ul>
<h4><a class="anchor" id="header"></a>
Header</h4>
<div class="fragment"><pre class="fragment">
  7   6   5   4   3   2   1   0
+---+---+---+---+---+---+---+---+
| Flags |      ADDRESS          |
+---+---+---+---+---+---+---+---+

  Flags | Meaning
--------+---------
  0   0 | data broadcast by a node
  0   1 | data request by a node
  1   0 | negative response from the node (NACK)
  1   1 | positive response from the node (ACK)
</pre></div><p>When transmitting, the <code>second</code> bit determines, whether or not to expect an answer from the addressed node. To just send information without any need for acknowledgment, use a broadcast. When a node is responding, the <code>second</code> bit has to following meaning:</p>
<ul>
<li><code>true</code> - Message is an positive response and may contain a payload</li>
<li><code>false</code> - Message signals an error condition and carries only one byte of payload. This byte is an error code.</li>
</ul>
<h2><a class="anchor" id="amnb_electric"></a>
Electrical characteristics</h2>
<p>Between different boards CAN transceivers are used. Compared to RS485 the CAN transceivers have the advantage to work without a separate direction input. You can just connected the transceiver directly to the UART of your microcontroller. These are identical to the SAB CAN electrical characteristics. You have to use the CAN transceivers, otherwise it cannot be determined, if the bus is busy or available for transmission.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Fabian Greif </dd>
<dd>
Niklas Hauser </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga5ba1d96e88ef2e3189fc07af8f758a94"></a><!-- doxytag: member="node.hpp::AMNB__ACTION" ref="ga5ba1d96e88ef2e3189fc07af8f758a94" args="(command, object, function, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__amnb.html#ga5ba1d96e88ef2e3189fc07af8f758a94">AMNB__ACTION</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>Sensor : <span class="keyword">public</span> xpcc::amnb::Callable
 {
 <span class="keyword">public</span>:
     <span class="keywordtype">void</span>
     sendValue(<a class="code" href="classxpcc_1_1amnb_1_1_response.html" title="Response object for an action call.">xpcc::amnb::Response</a>&amp; response)
     {
         response.<a class="code" href="classxpcc_1_1amnb_1_1_response.html#abf40a63a7c5d8c3f853cdc705ddee3de" title="Send a response without any data.">send</a>(this-&gt;value);
     }
     
     <span class="keywordtype">void</span>
     doSomething(<a class="code" href="classxpcc_1_1amnb_1_1_response.html" title="Response object for an action call.">xpcc::amnb::Response</a>&amp; response, <span class="keyword">const</span> uint32_t* parameter)
     {
         <span class="comment">// ... do something useful ...</span>
         
         response.<a class="code" href="classxpcc_1_1amnb_1_1_response.html#abf40a63a7c5d8c3f853cdc705ddee3de" title="Send a response without any data.">send</a>();
     }
     
     <span class="comment">// ...</span>
     
 <span class="keyword">private</span>:
     int8_t value;
 };
 
 Sensor sensor;
 
 <a class="code" href="group__accessor.html#ga71c8fdec33b7ac78b2f56e4ca3ccfc9f" title="Define a flash variable.">FLASH_STORAGE</a>(<a class="code" href="structxpcc_1_1amnb_1_1_action.html" title="Possible Action.">xpcc::amnb::Action</a> actionList[]) =
 {
     <a class="code" href="group__amnb.html#ga5ba1d96e88ef2e3189fc07af8f758a94" title="Define a amnb::Action.">AMNB__ACTION</a>(0x57, sensor, Sensor::sendValue,   0),
     <a class="code" href="group__amnb.html#ga5ba1d96e88ef2e3189fc07af8f758a94" title="Define a amnb::Action.">AMNB__ACTION</a>(0x03, sensor, Sensor::doSomething, <span class="keyword">sizeof</span>(uint32_t)),
 };
</pre></div><p>A complete example is available in the <code>example/amnb</code> folder.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>Command byte </td></tr>
    <tr><td class="paramname">object</td><td></td></tr>
    <tr><td class="paramname">function</td><td>Member function of object </td></tr>
    <tr><td class="paramname">length</td><td>Parameter size in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structxpcc_1_1amnb_1_1_action.html" title="Possible Action.">xpcc::amnb::Action</a> </dd></dl>

<p>Definition at line <a class="el" href="node_8hpp_source.html#l00470">470</a> of file <a class="el" href="node_8hpp_source.html">node.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gac9e174dbfa0dff218a593e63321d0cce"></a><!-- doxytag: member="node.hpp::AMNB__LISTEN" ref="gac9e174dbfa0dff218a593e63321d0cce" args="(address, command, object, function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__amnb.html#gac9e174dbfa0dff218a593e63321d0cce">AMNB__LISTEN</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">address, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>ListenToNodes : <span class="keyword">public</span> xpcc::amnb::Callable
 {
 <span class="keyword">public</span>:
     <span class="keywordtype">void</span>
     listenToCommand(uint8_t *payload, <span class="keyword">const</span> uint8_t length)
     {
         <span class="comment">// ... do something useful ...</span>
         
     }
     
     <span class="comment">// ...</span>
 };
 
 ListenToNodes listen;
 
 <a class="code" href="group__accessor.html#ga71c8fdec33b7ac78b2f56e4ca3ccfc9f" title="Define a flash variable.">FLASH_STORAGE</a>(<a class="code" href="structxpcc_1_1amnb_1_1_listener.html" title="Possible Listener.">xpcc::amnb::Listener</a> listenList[]) =
 {
     <a class="code" href="group__amnb.html#gac9e174dbfa0dff218a593e63321d0cce" title="Define a amnb::Listener.">AMNB__LISTEN</a>(0x46, 0x03, listen, ListenToNodes::listenToCommand),
 };
</pre></div><p>A complete example is available in the <code>example/amnb</code> folder.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Address of the transmitting node </td></tr>
    <tr><td class="paramname">command</td><td>Command byte </td></tr>
    <tr><td class="paramname">object</td><td></td></tr>
    <tr><td class="paramname">function</td><td>Member function of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structxpcc_1_1amnb_1_1_listener.html" title="Possible Listener.">xpcc::amnb::Listener</a> </dd></dl>

<p>Definition at line <a class="el" href="node_8hpp_source.html#l00518">518</a> of file <a class="el" href="node_8hpp_source.html">node.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gac462596130c1e5f05fffe34773311e1c"></a><!-- doxytag: member="node.hpp::AMNB__ERROR" ref="gac462596130c1e5f05fffe34773311e1c" args="(address, command, object, function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__amnb.html#gac462596130c1e5f05fffe34773311e1c">AMNB__ERROR</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">address, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">object, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>handleErrors : <span class="keyword">public</span> xpcc::amnb::Callable
 {
 <span class="keyword">public</span>:
     <span class="keywordtype">void</span>
     errorForCommand(<a class="code" href="group__amnb.html#ga9d51acabbd29c61b9931e2ebae600686" title="Flags.">xpcc::amnb::Flags</a> type, <span class="keyword">const</span> uint8_t errorCode)
     {
         <span class="comment">// ... do something useful with that information ...</span>
         
     }
     
     <span class="comment">// ...</span>
 };
 
 handleErrors errorhandler;
 
 <a class="code" href="group__accessor.html#ga71c8fdec33b7ac78b2f56e4ca3ccfc9f" title="Define a flash variable.">FLASH_STORAGE</a>(<a class="code" href="structxpcc_1_1amnb_1_1_listener.html" title="Possible Listener.">xpcc::amnb::Listener</a> listenList[]) =
 {
     <a class="code" href="group__amnb.html#gac9e174dbfa0dff218a593e63321d0cce" title="Define a amnb::Listener.">AMNB__LISTEN</a>(0x37, 0x57, errorhandler, handleErrors::errorForCommand),
 };
</pre></div><p>A complete example is available in the <code>example/amnb</code> folder.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Node address of message </td></tr>
    <tr><td class="paramname">command</td><td>Command of message </td></tr>
    <tr><td class="paramname">object</td><td></td></tr>
    <tr><td class="paramname">function</td><td>Member function of object</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structxpcc_1_1amnb_1_1_error_handler.html" title="Possible Error.">xpcc::amnb::ErrorHandler</a> </dd></dl>

<p>Definition at line <a class="el" href="node_8hpp_source.html#l00565">565</a> of file <a class="el" href="node_8hpp_source.html">node.hpp</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gac3b87049713c290d3ae496621d7536b4"></a><!-- doxytag: member="xpcc::amnb::Error" ref="gac3b87049713c290d3ae496621d7536b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__amnb.html#gac3b87049713c290d3ae496621d7536b4">xpcc::amnb::Error</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Error codes below 0x20 are reserved for the system. Every other code may be used by user. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a1edbc2c629ffee54b54e3912008e11b8"></a><!-- doxytag: member="ERROR__GENERAL_ERROR" ref="ggac3b87049713c290d3ae496621d7536b4a1edbc2c629ffee54b54e3912008e11b8" args="" -->ERROR__GENERAL_ERROR</em>&nbsp;</td><td>
<p>Universal error code. </p>
<p>Use this code if you're not sure what error to signal. If the user should react to the error code, create a specific one for the given problem. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a89948133759c53ab5adfdcfe85a6b4e5"></a><!-- doxytag: member="ERROR__ACTION_NO_ACTION" ref="ggac3b87049713c290d3ae496621d7536b4a89948133759c53ab5adfdcfe85a6b4e5" args="" -->ERROR__ACTION_NO_ACTION</em>&nbsp;</td><td>
<p>No corresponding action found for this command. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a1824225512dd1f2e8a9eee28c5cb5d43"></a><!-- doxytag: member="ERROR__ACTION_WRONG_PAYLOAD_LENGTH" ref="ggac3b87049713c290d3ae496621d7536b4a1824225512dd1f2e8a9eee28c5cb5d43" args="" -->ERROR__ACTION_WRONG_PAYLOAD_LENGTH</em>&nbsp;</td><td>
<p>Unexpected payload length. </p>
<p>The payload length of the received message differs from the expected length for the given command. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4abeb9e2bbad9cd0ef4ce44e458ac385b6"></a><!-- doxytag: member="ERROR__ACTION_NO_RESPONSE" ref="ggac3b87049713c290d3ae496621d7536b4abeb9e2bbad9cd0ef4ce44e458ac385b6" args="" -->ERROR__ACTION_NO_RESPONSE</em>&nbsp;</td><td>
<p>No response given by the user. </p>
<p>This error code is generated when no response method is called by the user during an action callback. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a85d1cf4cd479920b731f7dc0910063b0"></a><!-- doxytag: member="ERROR__QUERY_ERROR_CODE" ref="ggac3b87049713c290d3ae496621d7536b4a85d1cf4cd479920b731f7dc0910063b0" args="" -->ERROR__QUERY_ERROR_CODE</em>&nbsp;</td><td>
<p>Query answer contains an more detailed error code. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a44e3f625c1b45df1f34a6a7467446ace"></a><!-- doxytag: member="ERROR__QUERY_TIMEOUT" ref="ggac3b87049713c290d3ae496621d7536b4a44e3f625c1b45df1f34a6a7467446ace" args="" -->ERROR__QUERY_TIMEOUT</em>&nbsp;</td><td>
<p>Query timed out. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a2e2f363220d35e24db2d5088b9d6162b"></a><!-- doxytag: member="ERROR__QUERY_WRONG_PAYLOAD_LENGTH" ref="ggac3b87049713c290d3ae496621d7536b4a2e2f363220d35e24db2d5088b9d6162b" args="" -->ERROR__QUERY_WRONG_PAYLOAD_LENGTH</em>&nbsp;</td><td>
<p>Query answer has wrong payload length. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a78a185247b3245f0447bbb6827217977"></a><!-- doxytag: member="ERROR__QUERY_IN_PROGRESS" ref="ggac3b87049713c290d3ae496621d7536b4a78a185247b3245f0447bbb6827217977" args="" -->ERROR__QUERY_IN_PROGRESS</em>&nbsp;</td><td>
<p>Query is already in progress. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a3dc022d1e4841591305f620e3d100369"></a><!-- doxytag: member="ERROR__TRANSMITTER_BUSY" ref="ggac3b87049713c290d3ae496621d7536b4a3dc022d1e4841591305f620e3d100369" args="" -->ERROR__TRANSMITTER_BUSY</em>&nbsp;</td><td>
<p><a class="el" href="classxpcc_1_1amnb_1_1_interface.html" title="AMNB interface.">Interface</a> is currently transmitting. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggac3b87049713c290d3ae496621d7536b4a16a7c6c7b1e5302990dfb5b3ae529c6f"></a><!-- doxytag: member="ERROR__MESSAGE_OVERWRITTEN" ref="ggac3b87049713c290d3ae496621d7536b4a16a7c6c7b1e5302990dfb5b3ae529c6f" args="" -->ERROR__MESSAGE_OVERWRITTEN</em>&nbsp;</td><td>
<p>Another message will be transmitted before this one. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="amnb_2constants_8hpp_source.html#l00050">50</a> of file <a class="el" href="amnb_2constants_8hpp_source.html">amnb/constants.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d51acabbd29c61b9931e2ebae600686"></a><!-- doxytag: member="xpcc::amnb::Flags" ref="ga9d51acabbd29c61b9931e2ebae600686" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__amnb.html#ga9d51acabbd29c61b9931e2ebae600686">xpcc::amnb::Flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga9d51acabbd29c61b9931e2ebae600686a1ad0dc82868c547f4ceb989b4b104f8c"></a><!-- doxytag: member="BROADCAST" ref="gga9d51acabbd29c61b9931e2ebae600686a1ad0dc82868c547f4ceb989b4b104f8c" args="" -->BROADCAST</em>&nbsp;</td><td>
<p>send a message without getting a response </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9d51acabbd29c61b9931e2ebae600686abc0cc523493221a5252ba5158ad1eb49"></a><!-- doxytag: member="REQUEST" ref="gga9d51acabbd29c61b9931e2ebae600686abc0cc523493221a5252ba5158ad1eb49" args="" -->REQUEST</em>&nbsp;</td><td>
<p>request data from a node </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9d51acabbd29c61b9931e2ebae600686a3d15367875437d4704134aa896c09547"></a><!-- doxytag: member="NACK" ref="gga9d51acabbd29c61b9931e2ebae600686a3d15367875437d4704134aa896c09547" args="" -->NACK</em>&nbsp;</td><td>
<p>data request Negative ACKnowledge </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9d51acabbd29c61b9931e2ebae600686a0854ac17d8dcb980a1218b1fccad5269"></a><!-- doxytag: member="ACK" ref="gga9d51acabbd29c61b9931e2ebae600686a0854ac17d8dcb980a1218b1fccad5269" args="" -->ACK</em>&nbsp;</td><td>
<p>data request positive ACKnowledge </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="amnb_2constants_8hpp_source.html#l00095">95</a> of file <a class="el" href="amnb_2constants_8hpp_source.html">amnb/constants.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr class="footer" />
<address class="footer"><small>Generated on Wed May 2 2012 15:17:37 for xpcc by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.6.1</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
