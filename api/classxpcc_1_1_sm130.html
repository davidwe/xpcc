<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: xpcc::Sm130&lt; I2cMaster, Reset &gt; Class Template Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classxpcc_1_1_sm130.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">xpcc::Sm130&lt; I2cMaster, Reset &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="xpcc::Sm130" -->
<p>SM130 13.56MHz RFID Mifare Read/Write Module.  
 <a href="classxpcc_1_1_sm130.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sm130_8hpp_source.html">xpcc/driver/rfid/sm130.hpp</a>&gt;</code></p>

<p><a href="classxpcc_1_1_sm130-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>Frame</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_sm130.html#a9b65dd507631b014d3cb8e6ea69c5765">Sm130</a> (uint8_t *data, uint8_t address=0x42)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27443324033c79c51957db23a2cdca4d"></a><!-- doxytag: member="xpcc::Sm130::initialize" ref="a27443324033c79c51957db23a2cdca4d" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>initialize</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af46083a40396a47f1b544d309af0a42c"></a><!-- doxytag: member="xpcc::Sm130::update" ref="af46083a40396a47f1b544d309af0a42c" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_sm130.html#af46083a40396a47f1b544d309af0a42c">update</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be called periodically. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa2f1db0423d2e3156eeb74674da4a1a"></a><!-- doxytag: member="xpcc::Sm130::reset" ref="aaa2f1db0423d2e3156eeb74674da4a1a" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84873f95b1a316d4b1e85bfc4492fb35"></a><!-- doxytag: member="xpcc::Sm130::selectTag" ref="a84873f95b1a316d4b1e85bfc4492fb35" args="()" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>selectTag</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae25c61978a9745b96407895046f54cd6"></a><!-- doxytag: member="xpcc::Sm130::seekForTag" ref="ae25c61978a9745b96407895046f54cd6" args="()" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>seekForTag</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14203d4a31549fc50cb28165b622ea1a"></a><!-- doxytag: member="xpcc::Sm130::enableAntenna" ref="a14203d4a31549fc50cb28165b622ea1a" args="(bool enable)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>enableAntenna</b> (bool enable)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename I2cMaster, typename Reset&gt;<br/>
class xpcc::Sm130&lt; I2cMaster, Reset &gt;</h3>

<p>I2C Frame: </p>
<div class="fragment"><pre class="fragment">
+--------+---------+--------------+-----+
| LENGTH | COMMAND | ... DATA ... | CRC |
+--------+---------+--------------+-----+
</pre></div><div class="fragment"><pre class="fragment">
Following is the logic the Master should follow to send a command over I2C
1. Send I2C command as per above protocol
2. Send Start
3. Read a single byte from the module. This byte is the length of the response that the
module is going to send. This will be zero, till the module completes the execution of
the command. If the read byte is zero, send a stop.
4. Repeat steps 2 and 3 till the “length of response” byte is non-zero.
5. When the length byte is non-zero, instead of sending a stop, read the number of
data bytes indicated by the response length.
6. Send Stop.
7. After reading all the bytes, verify the checksum of the received packet
</pre></div><dl class="warning"><dt><b>Warning:</b></dt><dd>The standard firmware does not support I2C. You need to flash it new.</dd></dl>
<p>For further information, consult the <a href="">datasheet</a>.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Niklas Hauser</dd></dl>
<dl class=""><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">I2cMaster</td><td>I2C interface </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sm130_8hpp_source.html#l00106">106</a> of file <a class="el" href="sm130_8hpp_source.html">sm130.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9b65dd507631b014d3cb8e6ea69c5765"></a><!-- doxytag: member="xpcc::Sm130::Sm130" ref="a9b65dd507631b014d3cb8e6ea69c5765" args="(uint8_t *data, uint8_t address=0x42)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename I2cMaster , typename Reset &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classxpcc_1_1_sm130.html">xpcc::Sm130</a>&lt; I2cMaster, Reset &gt;::<a class="el" href="classxpcc_1_1_sm130.html">Sm130</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em> = <code>0x42</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to buffer of 9 bytes </td></tr>
    <tr><td class="paramname">address</td><td>address defaults to 0x42 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="sm130_8hpp_source.html">sm130.hpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>xpcc</b>      </li>
      <li class="navelem"><a class="el" href="classxpcc_1_1_sm130.html">Sm130</a>      </li>
<hr class="footer" />
<address class="footer"><small>Generated on Tue Jun 5 2012 21:41:38 for xpcc by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.6.1</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
