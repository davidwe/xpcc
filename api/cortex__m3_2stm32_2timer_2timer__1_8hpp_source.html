<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: timer_1.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('cortex__m3_2stm32_2timer_2timer__1_8hpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">cortex_m3/stm32/timer/timer_1.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// coding: utf-8</span>
<a name="l00002"></a>00002 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">/* Copyright (c) 2011, Roboterclub Aachen e.V.</span>
<a name="l00004"></a>00004 <span class="comment"> * All rights reserved.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00007"></a>00007 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<a name="l00008"></a>00008 <span class="comment"> * </span>
<a name="l00009"></a>00009 <span class="comment"> *     * Redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> *       notice, this list of conditions and the following disclaimer.</span>
<a name="l00011"></a>00011 <span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00012"></a>00012 <span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span>
<a name="l00013"></a>00013 <span class="comment"> *       documentation and/or other materials provided with the distribution.</span>
<a name="l00014"></a>00014 <span class="comment"> *     * Neither the name of the Roboterclub Aachen e.V. nor the</span>
<a name="l00015"></a>00015 <span class="comment"> *       names of its contributors may be used to endorse or promote products</span>
<a name="l00016"></a>00016 <span class="comment"> *       derived from this software without specific prior written permission.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY ROBOTERCLUB AACHEN E.V. &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<a name="l00019"></a>00019 <span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00020"></a>00020 <span class="comment"> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00021"></a>00021 <span class="comment"> * DISCLAIMED. IN NO EVENT SHALL ROBOTERCLUB AACHEN E.V. BE LIABLE FOR ANY</span>
<a name="l00022"></a>00022 <span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<a name="l00023"></a>00023 <span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<a name="l00024"></a>00024 <span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<a name="l00025"></a>00025 <span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00026"></a>00026 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<a name="l00027"></a>00027 <span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00030"></a>00030 <span class="comment">/*</span>
<a name="l00031"></a>00031 <span class="comment"> * WARNING: This file is generated automatically, do not edit!</span>
<a name="l00032"></a>00032 <span class="comment"> * Please modify the corresponding *.in file instead and rebuild this file. </span>
<a name="l00033"></a>00033 <span class="comment"> */</span>
<a name="l00034"></a>00034 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#ifndef XPCC_STM32__TIMER_1_HPP</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#define XPCC_STM32__TIMER_1_HPP</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;timer_base.hpp&quot;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="keyword">namespace </span>xpcc
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043     <span class="keyword">namespace </span>stm32
<a name="l00044"></a>00044     {
<a name="l00080"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html">00080</a>         <span class="keyword">class </span><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html" title="Advanced Control Timer 1.">Timer1</a> : <span class="keyword">public</span> <a class="code" href="classxpcc_1_1stm32_1_1_advanced_control_timer.html">AdvancedControlTimer</a>
<a name="l00081"></a>00081         {
<a name="l00082"></a>00082 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span>        <span class="keyword">public</span>:
<a name="l00084"></a>00084             
<a name="l00085"></a>00085 <span class="preprocessor">#else</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>        <span class="keyword">public</span>:
<a name="l00087"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1">00087</a>             <span class="keyword">enum</span> <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1">Remap</a>
<a name="l00088"></a>00088             {
<a name="l00089"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1a4fa1ad6d0d1d9792e4a011ee4c8f22a8">00089</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1a4fa1ad6d0d1d9792e4a011ee4c8f22a8" title="ETR/PA12, CH1/PA8, CH2/PA9, CH3/PA10, CH4/PA11, BKIN/PB12, CH1N/PB13, CH2N/PB14, CH3N/PB15 (default)...">NO_REMAP</a> = AFIO_MAPR_TIM1_REMAP_NOREMAP,            
<a name="l00090"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1aca494b8ef88385cd8bba19560e48e438">00090</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1aca494b8ef88385cd8bba19560e48e438" title="ETR/PA12, CH1/PA8, CH2/PA9, CH3/PA10, CH4/PA11, BKIN/PA6, CH1N/PA7, CH2N/PB0, CH3N/PB1.">PARTIAL_REMAP</a> = AFIO_MAPR_TIM1_REMAP_PARTIALREMAP,  
<a name="l00091"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1a7e7457bdc5c2c87af2bdec9b6e54caec">00091</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1a7e7457bdc5c2c87af2bdec9b6e54caec" title="ETR/PE7, CH1/PE9, CH2/PE11, CH3/PE13, CH4/PE14, BKIN/PE15, CH1N/PE8, CH2N/PE10, CH3N/PE12.">FULL_REMAP</a> = AFIO_MAPR_TIM1_REMAP_FULLREMAP,        
<a name="l00092"></a>00092             };
<a name="l00093"></a>00093             <span class="keyword">static</span> <span class="keyword">const</span> uint32_t remapMask = AFIO_MAPR_TIM1_REMAP;
<a name="l00094"></a>00094             
<a name="l00101"></a>00101             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00102"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#aa22d0644b0ceae340e37293cc8d33a23">00102</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#aa22d0644b0ceae340e37293cc8d33a23" title="Remap compare channels to other locations.">remapPins</a>(<a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a274753212a3b9513dded110f644f88f1">Remap</a> mapping)
<a name="l00103"></a>00103             {
<a name="l00104"></a>00104                 AFIO-&gt;MAPR = (AFIO-&gt;MAPR &amp; ~remapMask) | mapping;
<a name="l00105"></a>00105             }
<a name="l00106"></a>00106 <span class="preprocessor">#endif</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>            
<a name="l00108"></a>00108         <span class="keyword">public</span>:
<a name="l00109"></a>00109             <span class="keyword">enum</span> SlaveModeTrigger
<a name="l00110"></a>00110             {
<a name="l00111"></a>00111                 TRIGGER_INTERNAL_0 = 0,
<a name="l00112"></a>00112                 TRIGGER_INTERNAL_1 = TIM_SMCR_TS_0,
<a name="l00113"></a>00113                 TRIGGER_INTERNAL_2 = TIM_SMCR_TS_1,
<a name="l00114"></a>00114                 TRIGGER_INTERNAL_3 = TIM_SMCR_TS_1 | TIM_SMCR_TS_0,
<a name="l00115"></a>00115                 TRIGGER_TI1_EDGE_DETECTOR = TIM_SMCR_TS_2,
<a name="l00116"></a>00116                 TRIGGER_FILTERED_TI1 = TIM_SMCR_TS_2 | TIM_SMCR_TS_0,
<a name="l00117"></a>00117                 TRIGGER_FILTERED_TI2 = TIM_SMCR_TS_2 | TIM_SMCR_TS_1,
<a name="l00118"></a>00118                 TRIGGER_EXTERNAL = TIM_SMCR_TS_2 | TIM_SMCR_TS_1 | TIM_SMCR_TS_0,
<a name="l00119"></a>00119             };
<a name="l00120"></a>00120             
<a name="l00121"></a>00121             <span class="keyword">enum</span> SlaveMode
<a name="l00122"></a>00122             {
<a name="l00123"></a>00123                 SLAVE_DISABLED  = 0, <span class="comment">// Slave mode disabled - if CEN = &#39;1&#39; then the prescaler is clocked directly by the internal clock.</span>
<a name="l00124"></a>00124                 SLAVE_ENCODER_1 = TIM_SMCR_SMS_0, <span class="comment">// Counter counts up/down on TI2FP2 edge depending on TI1FP1 level.</span>
<a name="l00125"></a>00125                 SLAVE_ENCODER_2 = TIM_SMCR_SMS_1, <span class="comment">// Counter counts up/down on TI1FP1 edge depending on TI2FP2 level.</span>
<a name="l00126"></a>00126                 SLAVE_ENCODER_3 = TIM_SMCR_SMS_1 | TIM_SMCR_SMS_0, <span class="comment">// Counter counts up/down on both TI1FP1 and TI2FP2 edges depending on the level of the other input.</span>
<a name="l00127"></a>00127                 SLAVE_RESET     = TIM_SMCR_SMS_2, <span class="comment">// Rising edge of the selected trigger input (TRGI) reinitializes the counter and generates an update of the registers.</span>
<a name="l00128"></a>00128                 SLAVE_GATED     = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_0, <span class="comment">// The counter clock is enabled when the trigger input (TRGI) is high. The counter stops (but is not reset) as soon as the trigger becomes low. Both start and stop of the counter are controlled.</span>
<a name="l00129"></a>00129                 SLAVE_TRIGGER   = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_1, <span class="comment">// The counter starts at a rising edge of the trigger TRGI (but it is not reset). Only the start of the counter is controlled.</span>
<a name="l00130"></a>00130                 SLAVE_EXTERNAL_CLOCK = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_1 | TIM_SMCR_SMS_0, <span class="comment">// Rising edges of the selected trigger (TRGI) clock the counter.</span>
<a name="l00131"></a>00131             };
<a name="l00132"></a>00132             
<a name="l00133"></a>00133             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00134"></a>00134             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a145e097da9db9d1d71c645f9b02ec384" title="Enables the clock for the timer and resets all settings.">enable</a>();
<a name="l00135"></a>00135             
<a name="l00136"></a>00136             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00137"></a>00137             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a6afe720f5822ac67f3ea1d4da6c74251" title="Disable clock.">disable</a>();
<a name="l00138"></a>00138             
<a name="l00139"></a>00139             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00140"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#ad4bd882a0ee1ede8e6fe3eca7cfd7c1c">00140</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#ad4bd882a0ee1ede8e6fe3eca7cfd7c1c" title="Pause timer operation.">pause</a>()
<a name="l00141"></a>00141             {
<a name="l00142"></a>00142                 TIM1-&gt;CR1 &amp;= ~TIM_CR1_CEN;
<a name="l00143"></a>00143             }
<a name="l00144"></a>00144             
<a name="l00145"></a>00145             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00146"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a8bc3c618f7f0fa128fc4659efc68e71f">00146</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a8bc3c618f7f0fa128fc4659efc68e71f" title="Re-enable timer operations.">start</a>()
<a name="l00147"></a>00147             {
<a name="l00148"></a>00148                 TIM1-&gt;CR1 |= TIM_CR1_CEN;
<a name="l00149"></a>00149             }
<a name="l00150"></a>00150             
<a name="l00151"></a>00151             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00152"></a>00152             setMode(<a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#ab1269983cd297b40c0d9a55a30c535f3">Mode</a> mode,
<a name="l00153"></a>00153                     SlaveMode slaveMode = SLAVE_DISABLED,
<a name="l00154"></a>00154                     SlaveModeTrigger slaveModeTrigger = TRIGGER_INTERNAL_0);
<a name="l00155"></a>00155             
<a name="l00156"></a>00156             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00157"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a7a61202acb89519dfcbfc5d2f9e19b5a">00157</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a7a61202acb89519dfcbfc5d2f9e19b5a" title="Set new prescaler.">setPrescaler</a>(uint16_t prescaler)
<a name="l00158"></a>00158             {
<a name="l00159"></a>00159                 <span class="comment">// Because a prescaler of zero is not possible the actual</span>
<a name="l00160"></a>00160                 <span class="comment">// prescaler value is \p prescaler - 1 (see Datasheet)</span>
<a name="l00161"></a>00161                 TIM1-&gt;PSC = prescaler - 1;
<a name="l00162"></a>00162             }
<a name="l00163"></a>00163             
<a name="l00164"></a>00164             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00165"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#ae4c364f14bdcc20580f3d1ae2988cada">00165</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#ae4c364f14bdcc20580f3d1ae2988cada" title="Set overflow.">setOverflow</a>(uint16_t overflow)
<a name="l00166"></a>00166             {
<a name="l00167"></a>00167                 TIM1-&gt;ARR = overflow;
<a name="l00168"></a>00168             }
<a name="l00169"></a>00169             
<a name="l00170"></a>00170             <span class="keyword">static</span> uint16_t
<a name="l00171"></a>00171             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a9fc79542a2b20a449e19b6f9fb238840" title="Set period in microseconds.">setPeriod</a>(uint32_t microseconds, <span class="keywordtype">bool</span> autoApply = <span class="keyword">true</span>);
<a name="l00172"></a>00172             
<a name="l00173"></a>00173             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00174"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a24eb4f93317da14610fcc9eb057b63cd">00174</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a24eb4f93317da14610fcc9eb057b63cd" title="Reset the counter, and update the prescaler and overflow values.">applyAndReset</a>()
<a name="l00175"></a>00175             {
<a name="l00176"></a>00176                 <span class="comment">// Generate Update Event to apply the new settings for ARR</span>
<a name="l00177"></a>00177                 TIM1-&gt;EGR |= TIM_EGR_UG;
<a name="l00178"></a>00178             }
<a name="l00179"></a>00179             
<a name="l00180"></a>00180             <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t
<a name="l00181"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a0a6c160275abbc01a40888da2f2aaebe">00181</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a0a6c160275abbc01a40888da2f2aaebe" title="Get the counter value.">getValue</a>()
<a name="l00182"></a>00182             {
<a name="l00183"></a>00183                 <span class="keywordflow">return</span> TIM1-&gt;CNT;
<a name="l00184"></a>00184             }
<a name="l00185"></a>00185             
<a name="l00186"></a>00186             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00187"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a2b83e7dd9cd7f868360bde9f3e7f6b4f">00187</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a2b83e7dd9cd7f868360bde9f3e7f6b4f" title="Set a new counter value.">setValue</a>(uint16_t value)
<a name="l00188"></a>00188             {
<a name="l00189"></a>00189                 TIM1-&gt;CNT = value;
<a name="l00190"></a>00190             }
<a name="l00191"></a>00191             
<a name="l00192"></a>00192             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00193"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a0bc9cae7384dd3eeb5e3a1bd4bac5531">00193</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a0bc9cae7384dd3eeb5e3a1bd4bac5531" title="Enable output pins.">enableOutput</a>()
<a name="l00194"></a>00194             {
<a name="l00195"></a>00195                 TIM1-&gt;BDTR |= TIM_BDTR_MOE;
<a name="l00196"></a>00196             }
<a name="l00197"></a>00197             
<a name="l00198"></a>00198         <span class="keyword">public</span>:
<a name="l00199"></a>00199             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00200"></a>00200             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#aa74be718b01f7b57edee9d9d0ed60d68" title="TODO Description.">configureInputChannel</a>(uint32_t channel, <a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#aeb2cdeddde6b54440b0b51bc753a8dc3" title="If more than one Compare Channel is available they are always paired.">InputCaptureMapping</a> input,
<a name="l00201"></a>00201                     InputCapturePrescaler prescaler, InputCapturePolarity polarity, uint8_t filter);
<a name="l00202"></a>00202             
<a name="l00203"></a>00203             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00204"></a>00204             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a545f634311623bd02d508eef37c7a057" title="Configure output channel 1..4.">configureOutputChannel</a>(uint32_t channel, <a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#adc6a9bfdf9839c351c0da0d922cda10a">OutputCompareMode</a> mode,
<a name="l00205"></a>00205                     uint16_t compareValue);
<a name="l00206"></a>00206             
<a name="l00207"></a>00207             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00208"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#afb602bb6acec9a2e2b7e0b9d52fe1178">00208</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#afb602bb6acec9a2e2b7e0b9d52fe1178" title="Set compare value for channel 1..4.">setCompareValue</a>(uint32_t channel, uint16_t value)
<a name="l00209"></a>00209             {
<a name="l00210"></a>00210 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>                *(&amp;TIM1-&gt;CCR1 + (channel - 1)) = value;
<a name="l00212"></a>00212 <span class="preprocessor">#else</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span>                *(&amp;TIM1-&gt;CCR1 + ((channel - 1) * 2)) = value;
<a name="l00214"></a>00214 <span class="preprocessor">#endif</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span>            }
<a name="l00216"></a>00216             
<a name="l00217"></a>00217             <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t
<a name="l00218"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a1f7f20b08d66382275327bf68dc81b38">00218</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a1f7f20b08d66382275327bf68dc81b38" title="Read compare value for channel 1..4.">getCompareValue</a>(uint32_t channel)
<a name="l00219"></a>00219             {
<a name="l00220"></a>00220 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>                <span class="keywordflow">return</span> *(&amp;TIM1-&gt;CCR1 + (channel - 1));
<a name="l00222"></a>00222 <span class="preprocessor">#else</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span>                <span class="keywordflow">return</span> *(&amp;TIM1-&gt;CCR1 + ((channel - 1) * 2));
<a name="l00224"></a>00224 <span class="preprocessor">#endif</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span>            }
<a name="l00226"></a>00226             
<a name="l00227"></a>00227         <span class="keyword">public</span>:
<a name="l00241"></a>00241             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00242"></a>00242             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a32aa1294f810484f85f3a081454dc953" title="Enables or disables Interrupt Vectors.">enableInterruptVector</a>(Interrupt interrupt, <span class="keywordtype">bool</span> <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a145e097da9db9d1d71c645f9b02ec384" title="Enables the clock for the timer and resets all settings.">enable</a>, uint32_t priority);
<a name="l00243"></a>00243             
<a name="l00244"></a>00244             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00245"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a04b49924f1002777dca3a68c15deda2b">00245</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#a04b49924f1002777dca3a68c15deda2b" title="Enables interrupts.">enableInterrupt</a>(Interrupt interrupt)
<a name="l00246"></a>00246             {
<a name="l00247"></a>00247                 TIM1-&gt;DIER |= interrupt;
<a name="l00248"></a>00248             }
<a name="l00249"></a>00249             
<a name="l00250"></a>00250             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00251"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#af2fff7d75bbf7132e4bcdcb9f99a1069">00251</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#af2fff7d75bbf7132e4bcdcb9f99a1069" title="Disables interrupts.">disableInterrupt</a>(Interrupt interrupt)
<a name="l00252"></a>00252             {
<a name="l00253"></a>00253                 TIM1-&gt;DIER &amp;= ~interrupt;
<a name="l00254"></a>00254             }
<a name="l00255"></a>00255             
<a name="l00256"></a>00256             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00257"></a>00257             enableDmaRequest(DmaRequestEnable dmaRequests)
<a name="l00258"></a>00258             {
<a name="l00259"></a>00259                 TIM1-&gt;DIER |= dmaRequests;
<a name="l00260"></a>00260             }
<a name="l00261"></a>00261             
<a name="l00262"></a>00262             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00263"></a>00263             disableDmaRequest(DmaRequestEnable dmaRequests)
<a name="l00264"></a>00264             {
<a name="l00265"></a>00265                 TIM1-&gt;DIER &amp;= ~dmaRequests;
<a name="l00266"></a>00266             }
<a name="l00267"></a>00267             
<a name="l00268"></a>00268             <span class="keyword">static</span> <span class="keyword">inline</span> InterruptFlag
<a name="l00269"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#add48dbd6a1b5b84e1615ff73351a297b">00269</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#add48dbd6a1b5b84e1615ff73351a297b" title="Returns a bitmap of the enum StateFlag.">getInterruptFlags</a>()
<a name="l00270"></a>00270             {
<a name="l00271"></a>00271                 <span class="keywordflow">return</span> (InterruptFlag) TIM1-&gt;SR;
<a name="l00272"></a>00272             }
<a name="l00273"></a>00273             
<a name="l00274"></a>00274             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00275"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#aa1d7bd371affb2ee72ca3931e319308e">00275</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer1.html#aa1d7bd371affb2ee72ca3931e319308e" title="Clears one or multiple flags.">resetInterruptFlags</a>(InterruptFlag flags)
<a name="l00276"></a>00276             {
<a name="l00277"></a>00277                 <span class="comment">// Flags are cleared by writing a zero to the flag position.</span>
<a name="l00278"></a>00278                 <span class="comment">// Writing a one is ignored.</span>
<a name="l00279"></a>00279                 TIM1-&gt;SR = ~flags;
<a name="l00280"></a>00280             }
<a name="l00281"></a>00281         };
<a name="l00282"></a>00282     }
<a name="l00283"></a>00283 }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="preprocessor">#endif // XPCC_STM32__TIMER_1_HPP</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>timer_1.hpp</b>      </li>
<hr class="footer" />
<address class="footer"><small>Generated on Fri Aug 10 2012 22:26:55 for xpcc by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.6.1</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
