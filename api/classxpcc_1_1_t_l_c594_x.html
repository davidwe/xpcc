<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>XPCC: xpcc::TLC594X Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">XPCC
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classxpcc_1_1_t_l_c594_x.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">xpcc::TLC594X Class Reference<div class="ingroups"><a class="el" href="group__pwm.html">PWM Drivers</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="xpcc::TLC594X" -->
<p>TLC594* multi-channel, daisy-chainable, constant-current sink, 12bit PWM LED driver.  
 <a href="classxpcc_1_1_t_l_c594_x.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tlc594x_8hpp_source.html">xpcc/driver/pwm/tlc594x.hpp</a>&gt;</code></p>

<p><a href="classxpcc_1_1_t_l_c594_x-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#abdbe9a6b5b6fd05881d20ec6cb736104">initialize</a> (uint16_t channels=0, uint8_t dots=0x3f, bool writeCH=true, bool writeDC=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a522d9311d4a13dd3e05c1382724aad43"></a><!-- doxytag: member="xpcc::TLC594X::setChannel" ref="a522d9311d4a13dd3e05c1382724aad43" args="(uint16_t channel, uint16_t value)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#a522d9311d4a13dd3e05c1382724aad43">setChannel</a> (uint16_t channel, uint16_t value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set the 12bit value of a channel call transfer() to update the chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#ab108ca3a07c5ebaba0784003a598f778">setAllChannels</a> (uint16_t value, bool update=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3aadc5361b83be2057b9330f3641a172"></a><!-- doxytag: member="xpcc::TLC594X::getChannel" ref="a3aadc5361b83be2057b9330f3641a172" args="(uint16_t channel)" -->
static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#a3aadc5361b83be2057b9330f3641a172">getChannel</a> (uint16_t channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get the stored 12bit value of a channel this does reflect the actual value in the chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb4c46c8750d074435b516381f398fd2"></a><!-- doxytag: member="xpcc::TLC594X::setDotCorrection" ref="acb4c46c8750d074435b516381f398fd2" args="(uint16_t channel, uint8_t value)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#acb4c46c8750d074435b516381f398fd2">setDotCorrection</a> (uint16_t channel, uint8_t value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set the 6bit dot correction value of a channel call transfer() to update the chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#a3b797061786a8c67fff1c1f3e12697c8">setAllDotCorrection</a> (uint8_t value, bool update=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf7c9edf9d9905d32290c8326e19dccf"></a><!-- doxytag: member="xpcc::TLC594X::getDotCorrection" ref="adf7c9edf9d9905d32290c8326e19dccf" args="(uint16_t channel)" -->
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#adf7c9edf9d9905d32290c8326e19dccf">getDotCorrection</a> (uint16_t channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get the stored 6bit dot correction value of a channel this does reflect the actual value in the chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcf4622af12e068b708f026c008087ef"></a><!-- doxytag: member="xpcc::TLC594X::writeChannels" ref="afcf4622af12e068b708f026c008087ef" args="(bool flush=true)" -->
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#afcf4622af12e068b708f026c008087ef">writeChannels</a> (bool flush=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer channel data to driver chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b066c75e3fab625c0e0d000a272b096"></a><!-- doxytag: member="xpcc::TLC594X::writeDotCorrection" ref="a2b066c75e3fab625c0e0d000a272b096" args="()" -->
static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#a2b066c75e3fab625c0e0d000a272b096">writeDotCorrection</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer dot correction data to driver chip <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50c75db33e5a8519a049ca3c4eea39ba"></a><!-- doxytag: member="xpcc::TLC594X::latch" ref="a50c75db33e5a8519a049ca3c4eea39ba" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#a50c75db33e5a8519a049ca3c4eea39ba">latch</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">writes data from the input shift register to either GS or DC register. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxpcc_1_1_t_l_c594_x.html#af65a4dcdf053f9ce7e2a2b125adbd47b">isError</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac43519edc123b1a617266e20c5531363"></a><!-- doxytag: member="xpcc::TLC594X::getGrayscaleData" ref="ac43519edc123b1a617266e20c5531363" args="()" -->
static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>getGrayscaleData</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fe25344d38e480c43a5af1b956f8958"></a><!-- doxytag: member="xpcc::TLC594X::getDotCorrectionData" ref="a4fe25344d38e480c43a5af1b956f8958" args="()" -->
static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>getDotCorrectionData</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a052e4adba38cbfc288d8cf7fc5ed8603"></a><!-- doxytag: member="xpcc::TLC594X::getStatusData" ref="a052e4adba38cbfc288d8cf7fc5ed8603" args="()" -->
static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>getStatusData</b> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class does not use the DCPRG pin, as writing to the EEPROM requires 22V to be applied to Vprog, requiring additional external circuits. Use of any EEPROM functions is therefore not implemented here. Make sure that pin is connected to Vcc, otherwise Dot Correction does not work.</p>
<p>This class also does not control the BLANK pin, as the setup of the timer to drive that pin is platform and configuration specific. Switching off all LEDs using one command is not implemented here.</p>
<p>This driver can be used for the 16-channel TLC5940 and 24-channel TLC5947 and probably similar TLC59s as well, simply by adjusting the number of CHANNELS. Therefore this class can also be used with daisy-chained TLC59s, e.g. to control two TLC5940s set CHANNELS to 2*16.</p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">CHANNELS</td><td>Number of channels must be multiples of 4, adjust for daisy-chained chips </td></tr>
    <tr><td class="paramname">Spi</td><td>SpiDma interface (MISO pin is not used) </td></tr>
    <tr><td class="paramname">Xlat</td><td>Level triggered latch pin </td></tr>
    <tr><td class="paramname">Xerr</td><td>Error pin, use <a class="el" href="classxpcc_1_1gpio_1_1_unused.html" title="Dummy implementation of an I/O pin.">xpcc::gpio::Unused</a> if not connected </td></tr>
    <tr><td class="paramname">Vprog</td><td>Vprog pin, use <a class="el" href="classxpcc_1_1gpio_1_1_unused.html" title="Dummy implementation of an I/O pin.">xpcc::gpio::Unused</a> if not connected</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Niklas hauser </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abdbe9a6b5b6fd05881d20ec6cb736104"></a><!-- doxytag: member="xpcc::TLC594X::initialize" ref="abdbe9a6b5b6fd05881d20ec6cb736104" args="(uint16_t channels=0, uint8_t dots=0x3f, bool writeCH=true, bool writeDC=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void xpcc::TLC594X::initialize </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>channels</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dots</em> = <code>0x3f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writeCH</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writeDC</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channels</td><td>initialize channels buffer with value, disable with -1 </td></tr>
    <tr><td class="paramname">dots</td><td>initialize dot correction buffer with value, disable with -1 </td></tr>
    <tr><td class="paramname">writeCH</td><td>write channels value to chip </td></tr>
    <tr><td class="paramname">writeDC</td><td>write dots value to chip </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab108ca3a07c5ebaba0784003a598f778"></a><!-- doxytag: member="xpcc::TLC594X::setAllChannels" ref="ab108ca3a07c5ebaba0784003a598f778" args="(uint16_t value, bool update=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void xpcc::TLC594X::setAllChannels </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the 12bit value of all channels </td></tr>
    <tr><td class="paramname">update</td><td>write data to chip </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b797061786a8c67fff1c1f3e12697c8"></a><!-- doxytag: member="xpcc::TLC594X::setAllDotCorrection" ref="a3b797061786a8c67fff1c1f3e12697c8" args="(uint8_t value, bool update=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void xpcc::TLC594X::setAllDotCorrection </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the 6bit dot correction value of all channels </td></tr>
    <tr><td class="paramname">update</td><td>write data to chip </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af65a4dcdf053f9ce7e2a2b125adbd47b"></a><!-- doxytag: member="xpcc::TLC594X::isError" ref="af65a4dcdf053f9ce7e2a2b125adbd47b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool xpcc::TLC594X::isError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if LOD or TEF is detected </dd></dl>

<p>Definition at line <a class="el" href="tlc594x_8hpp_source.html#l00132">132</a> of file <a class="el" href="tlc594x_8hpp_source.html">tlc594x.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="tlc594x_8hpp_source.html">tlc594x.hpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>xpcc</b>      </li>
      <li class="navelem"><a class="el" href="classxpcc_1_1_t_l_c594_x.html">TLC594X</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer" />
<address class="footer"><small>Generated on Mon Mar 5 2012 19:28:10 for XPCC by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.5</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
