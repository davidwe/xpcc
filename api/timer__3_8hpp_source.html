<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>xpcc: timer_3.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">xpcc
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('timer__3_8hpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">timer_3.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// coding: utf-8</span>
<a name="l00002"></a>00002 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">/* Copyright (c) 2011, Roboterclub Aachen e.V.</span>
<a name="l00004"></a>00004 <span class="comment"> * All rights reserved.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00007"></a>00007 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<a name="l00008"></a>00008 <span class="comment"> * </span>
<a name="l00009"></a>00009 <span class="comment"> *     * Redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> *       notice, this list of conditions and the following disclaimer.</span>
<a name="l00011"></a>00011 <span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00012"></a>00012 <span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span>
<a name="l00013"></a>00013 <span class="comment"> *       documentation and/or other materials provided with the distribution.</span>
<a name="l00014"></a>00014 <span class="comment"> *     * Neither the name of the Roboterclub Aachen e.V. nor the</span>
<a name="l00015"></a>00015 <span class="comment"> *       names of its contributors may be used to endorse or promote products</span>
<a name="l00016"></a>00016 <span class="comment"> *       derived from this software without specific prior written permission.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY ROBOTERCLUB AACHEN E.V. &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<a name="l00019"></a>00019 <span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00020"></a>00020 <span class="comment"> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00021"></a>00021 <span class="comment"> * DISCLAIMED. IN NO EVENT SHALL ROBOTERCLUB AACHEN E.V. BE LIABLE FOR ANY</span>
<a name="l00022"></a>00022 <span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<a name="l00023"></a>00023 <span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<a name="l00024"></a>00024 <span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<a name="l00025"></a>00025 <span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00026"></a>00026 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<a name="l00027"></a>00027 <span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00030"></a>00030 <span class="comment">/*</span>
<a name="l00031"></a>00031 <span class="comment"> * WARNING: This file is generated automatically, do not edit!</span>
<a name="l00032"></a>00032 <span class="comment"> * Please modify the corresponding *.in file instead and rebuild this file. </span>
<a name="l00033"></a>00033 <span class="comment"> */</span>
<a name="l00034"></a>00034 <span class="comment">// ----------------------------------------------------------------------------</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#ifndef XPCC_STM32__TIMER_3_HPP</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#define XPCC_STM32__TIMER_3_HPP</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;timer_base.hpp&quot;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="keyword">namespace </span>xpcc
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043     <span class="keyword">namespace </span>stm32
<a name="l00044"></a>00044     {
<a name="l00066"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html">00066</a>         <span class="keyword">class </span><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html" title="General Purpose Timer 3.">Timer3</a> : <span class="keyword">public</span> <a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html">GeneralPurposeTimer</a>
<a name="l00067"></a>00067         {
<a name="l00068"></a>00068         <span class="keyword">public</span>:
<a name="l00069"></a>00069 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00071"></a>00071 <span class="preprocessor">#else</span>
<a name="l00072"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6">00072</a> <span class="preprocessor"></span>            <span class="keyword">enum</span> <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6">Remap</a>
<a name="l00073"></a>00073             {
<a name="l00074"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6ac83da9eb2c7411a7b745d1a394ff6360">00074</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6ac83da9eb2c7411a7b745d1a394ff6360" title="CH1/PA6, CH2/PA7, CH3/PB0, CH4/PB1 (default)">NO_REMAP</a> = AFIO_MAPR_TIM3_REMAP_NOREMAP,            
<a name="l00075"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6a8012865d4ae3ba3145effeb294d5ed2d">00075</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6a8012865d4ae3ba3145effeb294d5ed2d" title="CH1/PB4, CH2/PB5, CH3/PB0, CH4/PB1.">PARTIAL_REMAP</a> = AFIO_MAPR_TIM3_REMAP_PARTIALREMAP,  
<a name="l00076"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6abfaea673d845075dd4c523668fc257c0">00076</a>                 <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6abfaea673d845075dd4c523668fc257c0" title="CH1/PC6, CH2/PC7, CH3/PC8, CH4/PC9.">FULL_REMAP</a> = AFIO_MAPR_TIM3_REMAP_FULLREMAP,        
<a name="l00077"></a>00077             };
<a name="l00078"></a>00078             <span class="keyword">static</span> <span class="keyword">const</span> uint32_t remapMask = AFIO_MAPR_TIM3_REMAP;
<a name="l00079"></a>00079             
<a name="l00086"></a>00086             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00087"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ab34458152e3d216ed37ab7c55cf5c656">00087</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ab34458152e3d216ed37ab7c55cf5c656" title="Remap compare channels to other locations.">remapPins</a>(<a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a203787326dab4a40d3a4d77ed8c83cb6">Remap</a> mapping)
<a name="l00088"></a>00088             {
<a name="l00089"></a>00089                 AFIO-&gt;MAPR = (AFIO-&gt;MAPR &amp; ~remapMask) | mapping;
<a name="l00090"></a>00090             }
<a name="l00091"></a>00091 <span class="preprocessor">#endif</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>                        
<a name="l00093"></a>00093         <span class="keyword">public</span>:
<a name="l00094"></a>00094             <span class="keyword">enum</span> SlaveModeTrigger
<a name="l00095"></a>00095             {
<a name="l00096"></a>00096                 
<a name="l00097"></a>00097                 TRIGGER_INTERNAL_1 = TIM_SMCR_TS_0,
<a name="l00098"></a>00098                 TRIGGER_INTERNAL_2 = TIM_SMCR_TS_1,
<a name="l00099"></a>00099                 
<a name="l00100"></a>00100                 
<a name="l00101"></a>00101                 TRIGGER_FILTERED_TI1 = TIM_SMCR_TS_2 | TIM_SMCR_TS_0,
<a name="l00102"></a>00102                 TRIGGER_FILTERED_TI2 = TIM_SMCR_TS_2 | TIM_SMCR_TS_1,
<a name="l00103"></a>00103                 TRIGGER_EXTERNAL = TIM_SMCR_TS_2 | TIM_SMCR_TS_1 | TIM_SMCR_TS_0,
<a name="l00104"></a>00104             };
<a name="l00105"></a>00105             
<a name="l00106"></a>00106             <span class="keyword">enum</span> SlaveMode
<a name="l00107"></a>00107             {
<a name="l00108"></a>00108                 SLAVE_DISABLED  = 0, <span class="comment">// Slave mode disabled - if CEN = &#39;1&#39; then the prescaler is clocked directly by the internal clock.</span>
<a name="l00109"></a>00109                 
<a name="l00110"></a>00110                 SLAVE_ENCODER_1 = TIM_SMCR_SMS_0, <span class="comment">// Counter counts up/down on TI2FP2 edge depending on TI1FP1 level.</span>
<a name="l00111"></a>00111                 SLAVE_ENCODER_2 = TIM_SMCR_SMS_1, <span class="comment">// Counter counts up/down on TI1FP1 edge depending on TI2FP2 level.</span>
<a name="l00112"></a>00112                 SLAVE_ENCODER_3 = TIM_SMCR_SMS_1 | TIM_SMCR_SMS_0, <span class="comment">// Counter counts up/down on both TI1FP1 and TI2FP2 edges depending on the level of the other input.</span>
<a name="l00113"></a>00113                 
<a name="l00114"></a>00114                 SLAVE_RESET     = TIM_SMCR_SMS_2, <span class="comment">// Rising edge of the selected trigger input (TRGI) reinitializes the counter and generates an update of the registers.</span>
<a name="l00115"></a>00115                 SLAVE_GATED     = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_0, <span class="comment">// The counter clock is enabled when the trigger input (TRGI) is high. The counter stops (but is not reset) as soon as the trigger becomes low. Both start and stop of the counter are controlled.</span>
<a name="l00116"></a>00116                 SLAVE_TRIGGER   = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_1, <span class="comment">// The counter starts at a rising edge of the trigger TRGI (but it is not reset). Only the start of the counter is controlled.</span>
<a name="l00117"></a>00117                 SLAVE_EXTERNAL_CLOCK = TIM_SMCR_SMS_2 | TIM_SMCR_SMS_1 | TIM_SMCR_SMS_0, <span class="comment">// Rising edges of the selected trigger (TRGI) clock the counter.</span>
<a name="l00118"></a>00118             };
<a name="l00119"></a>00119             
<a name="l00120"></a>00120             <span class="comment">// This type is the internal size of the counter.</span>
<a name="l00121"></a>00121             <span class="comment">// Timer 2 and 5 are the only one which have the size of 32 bit and</span>
<a name="l00122"></a>00122             <span class="comment">// only on st32f2 and st32f4</span>
<a name="l00123"></a>00123             <span class="keyword">typedef</span> uint16_t Value;
<a name="l00124"></a>00124             
<a name="l00125"></a>00125             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00126"></a>00126             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a7b629bf8939c142715b79d018d93dbae" title="Enables the clock for the timer and resets all settings.">enable</a>();
<a name="l00127"></a>00127             
<a name="l00128"></a>00128             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00129"></a>00129             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ab2471ede27bd304892e61942ffbfc98a" title="Disable clock.">disable</a>();
<a name="l00130"></a>00130             
<a name="l00131"></a>00131             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00132"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a0d1779cb674e722c1a43d7a9d34ee10c">00132</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a0d1779cb674e722c1a43d7a9d34ee10c" title="Pause timer operation.">pause</a>()
<a name="l00133"></a>00133             {
<a name="l00134"></a>00134                 TIM3-&gt;CR1 &amp;= ~TIM_CR1_CEN;
<a name="l00135"></a>00135             }
<a name="l00136"></a>00136             
<a name="l00137"></a>00137             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00138"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ac2b301d841acea713fcc9e57e8788041">00138</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ac2b301d841acea713fcc9e57e8788041" title="Re-enable timer operations.">start</a>()
<a name="l00139"></a>00139             {
<a name="l00140"></a>00140                 TIM3-&gt;CR1 |= TIM_CR1_CEN;
<a name="l00141"></a>00141             }
<a name="l00142"></a>00142             
<a name="l00143"></a>00143             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00144"></a>00144             setMode(<a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#ab1269983cd297b40c0d9a55a30c535f3">Mode</a> mode, SlaveMode slaveMode = SLAVE_DISABLED,
<a name="l00145"></a>00145                     SlaveModeTrigger slaveModeTrigger = (SlaveModeTrigger) 0);
<a name="l00146"></a>00146             
<a name="l00147"></a>00147             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00148"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a321d31f484dec1dea14ac63fa95dcaa3">00148</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a321d31f484dec1dea14ac63fa95dcaa3" title="Set new prescaler.">setPrescaler</a>(uint16_t prescaler)
<a name="l00149"></a>00149             {
<a name="l00150"></a>00150                 <span class="comment">// Because a prescaler of zero is not possible the actual</span>
<a name="l00151"></a>00151                 <span class="comment">// prescaler value is \p prescaler - 1 (see Datasheet)</span>
<a name="l00152"></a>00152                 TIM3-&gt;PSC = prescaler - 1;
<a name="l00153"></a>00153             }
<a name="l00154"></a>00154             
<a name="l00155"></a>00155             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00156"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ae3dde3d71a879e12888960344b9fa941">00156</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ae3dde3d71a879e12888960344b9fa941" title="Set overflow.">setOverflow</a>(Value overflow)
<a name="l00157"></a>00157             {
<a name="l00158"></a>00158                 TIM3-&gt;ARR = overflow;
<a name="l00159"></a>00159             }
<a name="l00160"></a>00160             
<a name="l00161"></a>00161             <span class="keyword">static</span> Value
<a name="l00162"></a>00162             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a7787eed2387fe3f54da361b29c9132e9" title="Set period in microseconds.">setPeriod</a>(uint32_t microseconds, <span class="keywordtype">bool</span> autoApply = <span class="keyword">true</span>);
<a name="l00163"></a>00163             
<a name="l00164"></a>00164             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00165"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a7b7be6e4ab26ecf3d3e88381688d85e1">00165</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a7b7be6e4ab26ecf3d3e88381688d85e1" title="Reset the counter, and update the prescaler and overflow values.">applyAndReset</a>()
<a name="l00166"></a>00166             {
<a name="l00167"></a>00167                 <span class="comment">// Generate Update Event to apply the new settings for ARR</span>
<a name="l00168"></a>00168                 TIM3-&gt;EGR |= TIM_EGR_UG;
<a name="l00169"></a>00169             }
<a name="l00170"></a>00170             
<a name="l00171"></a>00171             <span class="keyword">static</span> <span class="keyword">inline</span> Value
<a name="l00172"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ad089fa6db75af093a9fc25814897a8b3">00172</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ad089fa6db75af093a9fc25814897a8b3" title="Get the counter value.">getValue</a>()
<a name="l00173"></a>00173             {
<a name="l00174"></a>00174                 <span class="keywordflow">return</span> TIM3-&gt;CNT;
<a name="l00175"></a>00175             }
<a name="l00176"></a>00176             
<a name="l00177"></a>00177             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00178"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#aa2db3f3c6dadde2b967968224049b2a9">00178</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#aa2db3f3c6dadde2b967968224049b2a9" title="Set a new counter value.">setValue</a>(Value value)
<a name="l00179"></a>00179             {
<a name="l00180"></a>00180                 TIM3-&gt;CNT = value;
<a name="l00181"></a>00181             }
<a name="l00182"></a>00182             
<a name="l00183"></a>00183         <span class="keyword">public</span>:
<a name="l00184"></a>00184             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00185"></a>00185             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ac02dffaa36579ec8116c9c2ae578522a" title="TODO Description.">configureInputChannel</a>(uint32_t channel, <a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#aeb2cdeddde6b54440b0b51bc753a8dc3" title="If more than one Compare Channel is available they are always paired.">InputCaptureMapping</a> input,
<a name="l00186"></a>00186                     InputCapturePrescaler prescaler, InputCapturePolarity polarity, uint8_t filter);
<a name="l00187"></a>00187             
<a name="l00188"></a>00188             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00189"></a>00189             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a538995bc27467501cabbf8f32f268a3b" title="Configure output channel 1..4.">configureOutputChannel</a>(uint32_t channel, <a class="code" href="classxpcc_1_1stm32_1_1_general_purpose_timer.html#adc6a9bfdf9839c351c0da0d922cda10a">OutputCompareMode</a> mode,
<a name="l00190"></a>00190                     Value compareValue);
<a name="l00191"></a>00191             
<a name="l00192"></a>00192             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00193"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#aad38c386bc67a553841cc4b9d0ebe0f8">00193</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#aad38c386bc67a553841cc4b9d0ebe0f8" title="Set compare value for channel 1..4.">setCompareValue</a>(uint32_t channel, Value value)
<a name="l00194"></a>00194             {
<a name="l00195"></a>00195 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>                *(&amp;TIM3-&gt;CCR1 + (channel - 1)) = value;
<a name="l00197"></a>00197 <span class="preprocessor">#else</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>                *(&amp;TIM3-&gt;CCR1 + ((channel - 1) * 2)) = value;
<a name="l00199"></a>00199 <span class="preprocessor">#endif</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>            }
<a name="l00201"></a>00201             
<a name="l00202"></a>00202             <span class="keyword">static</span> <span class="keyword">inline</span> Value
<a name="l00203"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a478b8cae56851ecf9b68ddd1066c7d33">00203</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a478b8cae56851ecf9b68ddd1066c7d33" title="Read compare value for channel 1..4.">getCompareValue</a>(uint32_t channel)
<a name="l00204"></a>00204             {
<a name="l00205"></a>00205 <span class="preprocessor">#if defined(STM32F2XX) || defined(STM32F4XX)</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>                <span class="keywordflow">return</span> *(&amp;TIM3-&gt;CCR1 + (channel - 1));
<a name="l00207"></a>00207 <span class="preprocessor">#else</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>                <span class="keywordflow">return</span> *(&amp;TIM3-&gt;CCR1 + ((channel - 1) * 2));
<a name="l00209"></a>00209 <span class="preprocessor">#endif</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span>            }
<a name="l00211"></a>00211             
<a name="l00212"></a>00212         <span class="keyword">public</span>:
<a name="l00213"></a>00213             <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00214"></a>00214             enableInterruptVector(<span class="keywordtype">bool</span> <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a7b629bf8939c142715b79d018d93dbae" title="Enables the clock for the timer and resets all settings.">enable</a>, uint32_t priority);
<a name="l00215"></a>00215             
<a name="l00216"></a>00216             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00217"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a2132e74b216289fb3088b45ffb17a83b">00217</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a2132e74b216289fb3088b45ffb17a83b" title="Enables interrupts.">enableInterrupt</a>(Interrupt interrupt)
<a name="l00218"></a>00218             {
<a name="l00219"></a>00219                 TIM3-&gt;DIER |= interrupt;
<a name="l00220"></a>00220             }
<a name="l00221"></a>00221             
<a name="l00222"></a>00222             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00223"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ac149fe17802e167e12fafce4b3c64f12">00223</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#ac149fe17802e167e12fafce4b3c64f12" title="Disables interrupts.">disableInterrupt</a>(Interrupt interrupt)
<a name="l00224"></a>00224             {
<a name="l00225"></a>00225                 TIM3-&gt;DIER &amp;= ~interrupt;
<a name="l00226"></a>00226             }
<a name="l00227"></a>00227             
<a name="l00228"></a>00228             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00229"></a>00229             enableDmaRequest(DmaRequestEnable dmaRequests)
<a name="l00230"></a>00230             {
<a name="l00231"></a>00231                 TIM3-&gt;DIER |= dmaRequests;
<a name="l00232"></a>00232             }
<a name="l00233"></a>00233             
<a name="l00234"></a>00234             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00235"></a>00235             disableDmaRequest(DmaRequestEnable dmaRequests)
<a name="l00236"></a>00236             {
<a name="l00237"></a>00237                 TIM3-&gt;DIER &amp;= ~dmaRequests;
<a name="l00238"></a>00238             }
<a name="l00239"></a>00239             
<a name="l00240"></a>00240             <span class="keyword">static</span> <span class="keyword">inline</span> InterruptFlag
<a name="l00241"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a89b8b8f04923aa790ab188617e8db3c6">00241</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a89b8b8f04923aa790ab188617e8db3c6" title="Returns a bitmap of the enum StateFlag.">getInterruptFlags</a>()
<a name="l00242"></a>00242             {
<a name="l00243"></a>00243                 <span class="keywordflow">return</span> (InterruptFlag) TIM3-&gt;SR;
<a name="l00244"></a>00244             }
<a name="l00245"></a>00245             
<a name="l00246"></a>00246             <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00247"></a><a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a19426517f3e0514771c753435c6a50ba">00247</a>             <a class="code" href="classxpcc_1_1stm32_1_1_timer3.html#a19426517f3e0514771c753435c6a50ba" title="Clears one or multiple flags.">resetInterruptFlags</a>(InterruptFlag flags)
<a name="l00248"></a>00248             {
<a name="l00249"></a>00249                 <span class="comment">// Flags are cleared by writing a zero to the flag position.</span>
<a name="l00250"></a>00250                 <span class="comment">// Writing a one is ignored.</span>
<a name="l00251"></a>00251                 TIM3-&gt;SR = ~flags;
<a name="l00252"></a>00252             }
<a name="l00253"></a>00253         };
<a name="l00254"></a>00254     }
<a name="l00255"></a>00255 }
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 <span class="preprocessor">#endif // XPCC_STM32__TIMER_3_HPP</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>timer_3.hpp</b>      </li>
<hr class="footer" />
<address class="footer"><small>Generated on Tue Jun 5 2012 21:41:31 for xpcc by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.6.1</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
