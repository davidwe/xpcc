<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>XPCC: 5.2 Coding Conventions</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">XPCC
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('coding_conventions.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">5.2 Coding Conventions </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>On this page you'll find guidelines on how to write your code.</p>
<p>The main reason for this collection is to increase the readability and therefore reduce the amount of errors.</p>
<h2><a class="anchor" id="general"></a>
General Recommendations</h2>
<ul>
<li>Any violation to the guide is allowed if it enhances readability. <br/>
 The main goal of this guidelines is to improve readability and thereby the understanding and the maintainability and general quality of the code. It is not possible to cover all the specific cases in a general guide.</li>
<li><b>Keep it simple!</b><br/>
 Ease of understanding and use code is prefered about flexibility and complexity</li>
<li><b>Devide</b> <br/>
 Each class/methode has only one task.</li>
</ul>
<h2><a class="anchor" id="documentation"></a>
Documentation</h2>
<ul>
<li><b>Do it!</b></li>
<li>Documentation on how to use a class goes to the header file. Use doxygen style (<a href="http://www.doxygen.org">http://www.doxygen.org</a>) therefore. Documentation about the internal structure goes to the source file.</li>
<li>Start writing the documentation before programming!<br/>
 Describe in a few sentences what the class should do. If you cannot describe the class well it maybe that the overall structure of the class is wrong.</li>
<li>Documentation and code are connected. So if you change the code remember to update the documentation. Comments that contradict the code are worse than no comments. Always make a priority of keeping the comments up-to-date when the code changes!</li>
</ul>
<h2><a class="anchor" id="unittest"></a>
Unittests</h2>
<ul>
<li>Unittests are simple to write but very powerfull in avoiding long debug sessions, so use them.</li>
<li>Don't write examples, write unittests. Both show how a class is intended to be used, but unittests assure that the code is compileable and works as espected!</li>
<li>It is not possible to write unittests for code that diretly interacts with hardware, but for all other code it is!</li>
<li>Use clean interfaces and your code will be easy to test <b>and</b> to unterstand.</li>
</ul>
<h2><a class="anchor" id="names"></a>
Naming Conventions</h2>
<ul>
<li>All names except namespaces and named constants must be CamelCase.<ul>
<li>Classes and types start with uppercase, variables and functions with lowercase</li>
<li>Named constants (including defines and enumeration values) must be all uppercase using underscores to separate words.</li>
<li>Namespaces should be all lowercase with underscores.</li>
</ul>
</li>
<li>Use names that describe what a methode is doing. Use the following prefixes:<ul>
<li><b>get/set</b> for functions accessing class attributes</li>
<li><b>is</b> for functions returning boolean values (isEnabled(), isActive(), etc.)</li>
</ul>
</li>
<li>All names should in English using only ASCII characters.</li>
<li>Abbreviations in names should be avoided (do not write cmd instead of command)</li>
<li>If you can not find a good name for a variable/methode it could be a signal that the structure of your code is wrong</li>
</ul>
<h2><a class="anchor" id="statements"></a>
Statements</h2>
<ul>
<li>Never use the 'using namespace'-statement in a header file.</li>
<li>Type conversions must always be done explicitly. Never rely on implicit type conversion.<br/>
 By this, the programmer indicates that he is aware of the different types involved and that the mix is intentional. <div class="fragment"><pre class="fragment">floatValue = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(intValue);  <span class="comment">// NOT: floatValue = intValue;</span>
</pre></div></li>
<li>Variables should be declared in the smallest scope possible.</li>
</ul>
<h2><a class="anchor" id="files"></a>
Files</h2>
<ul>
<li>File extensions:<ul>
<li>*.cpp for C++ sources</li>
<li>*.hpp for C++ header</li>
<li>*_impl.hpp for C++ template implementations</li>
<li>*.h for C header</li>
<li>*.c for C sources</li>
</ul>
</li>
<li>Use filename = classname</li>
<li>When writting a template class put in implemenation in a file with the extension *_impl.hpp and include this file at the end of your template class.</li>
</ul>
<h3><a class="anchor" id="layout"></a>
Layout</h3>
<ul>
<li>Limit all lines to a maximum of 79 characters.</li>
<li>Use real TAB with width of 4 spaces (do not replace by spaces)</li>
<li>Whitespaces and empty lines are for free, so use them to structure your code and align the commands.</li>
<li>Always surround binary operators with a single space on either side: assignment (=), augmented assignment (+=, -= etc.), comparisons (==, &lt;, &gt;, !=, &lt;&gt;, &lt;=, &gt;=), etc.</li>
<li>Use spaces around arithmetic operators</li>
</ul>
<p>For everything else see the <a class="el" href="coding_conventions.html#examples">Examples</a> section.</p>
<h2><a class="anchor" id="optimization"></a>
Optimization</h2>
<p>Don't optimise on code level, only do it on structural level! Changing the code to reduce one or two if-statements has only little effect and increase the possibility to errors.</p>
<p>This is a list of expensive statements:</p>
<ul>
<li>open/closing files</li>
<li>cout (writing to the console or to a file)</li>
<li>search / sort =&gt; use well aproved alogrim</li>
<li>use the best fitting container (list, queue, map,..)</li>
<li>alocation of memory (heap needs ~1000 times more time than the stack)</li>
</ul>
<h2><a class="anchor" id="examples"></a>
Examples</h2>
<h3><a class="anchor" id="header"></a>
Header</h3>
<div class="fragment"><pre class="fragment"><span class="comment">// coding: utf-8</span>
<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">/* Copyright (c) 2009, Roboterclub Aachen e.V.</span>
<span class="comment"> * All rights reserved.</span>
<span class="comment"> *</span>
<span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<span class="comment"> * </span>
<span class="comment"> *     * Redistributions of source code must retain the above copyright</span>
<span class="comment"> *       notice, this list of conditions and the following disclaimer.</span>
<span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span>
<span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span>
<span class="comment"> *       documentation and/or other materials provided with the distribution.</span>
<span class="comment"> *     * Neither the name of the Roboterclub Aachen e.V. nor the</span>
<span class="comment"> *       names of its contributors may be used to endorse or promote products</span>
<span class="comment"> *       derived from this software without specific prior written permission.</span>
<span class="comment"> *</span>
<span class="comment"> * THIS SOFTWARE IS PROVIDED BY ROBOTERCLUB AACHEN E.V. &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="comment"> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="comment"> * DISCLAIMED. IN NO EVENT SHALL ROBOTERCLUB AACHEN E.V. BE LIABLE FOR ANY</span>
<span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="comment"> *</span>
<span class="comment"> * $Id$</span>
<span class="comment"> */</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<span class="preprocessor">#ifndef NAMESPACE__FILENAME_HPP</span>
<span class="preprocessor"></span><span class="preprocessor">#define NAMESPACE__FILENAME_HPP</span>
<span class="preprocessor"></span>
<span class="keyword">namespace </span>my_namespace
{
    <span class="keyword">class </span>MyClass
    {
    <span class="keyword">public</span>:
        MyClass();
        
        <span class="keyword">virtual</span> <span class="keywordtype">void</span>
        <span class="keyword">function</span>(<span class="keyword">const</span> Type&amp; argument);
        
        <span class="keywordtype">bool</span>
        anotherFunction();
        
        <span class="keyword">inline</span> <span class="keywordtype">bool</span>
        simpleInlineFunction()<span class="keyword"> const</span>
<span class="keyword">        </span>{
            <span class="keywordflow">return</span> this-&gt;myValue;
        }
    
    <span class="keyword">private</span>:
        <span class="keywordtype">bool</span> myValue;
    };
}

<span class="preprocessor">#endif // NAMESPACE__FILENAME_HPP</span>
</pre></div><h3><a class="anchor" id="source"></a>
Source file:</h3>
<div class="fragment"><pre class="fragment"><span class="comment">// coding: utf-8</span>
<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">/* Copyright (c) 2009, Roboterclub Aachen e.V.</span>
<span class="comment"> * All rights reserved.</span>
<span class="comment"> *</span>
<span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<span class="comment"> * </span>
<span class="comment"> *     * Redistributions of source code must retain the above copyright</span>
<span class="comment"> *       notice, this list of conditions and the following disclaimer.</span>
<span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span>
<span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span>
<span class="comment"> *       documentation and/or other materials provided with the distribution.</span>
<span class="comment"> *     * Neither the name of the Roboterclub Aachen e.V. nor the</span>
<span class="comment"> *       names of its contributors may be used to endorse or promote products</span>
<span class="comment"> *       derived from this software without specific prior written permission.</span>
<span class="comment"> *</span>
<span class="comment"> * THIS SOFTWARE IS PROVIDED BY ROBOTERCLUB AACHEN E.V. &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="comment"> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="comment"> * DISCLAIMED. IN NO EVENT SHALL ROBOTERCLUB AACHEN E.V. BE LIABLE FOR ANY</span>
<span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="comment"> *</span>
<span class="comment"> * $Id$</span>
<span class="comment"> */</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<span class="preprocessor">#include &lt;xpcc/utils/misc.hpp&gt;</span>

<span class="preprocessor">#include &quot;filename.hpp&quot;</span>

<span class="comment">// ----------------------------------------------------------------------------</span>

my_namespace::MyClass::MyClass() :
    myValue(false)
{
}

<span class="keyword">virtual</span> <span class="keywordtype">void</span>
my_namespace::MyClass::function(<span class="keyword">const</span> Type&amp; argument);
{
    <span class="keywordflow">if</span> (argument.myFunction() &gt; 7)
    {
        <span class="comment">// .. do something ..</span>
    }
    <span class="keywordflow">else</span> {
        <span class="comment">// .. do something different ..</span>
    }
}

<span class="keywordtype">bool</span>
my_namespace::MyClass::anotherFunction()
{
    <span class="comment">// .. do other stuff ..</span>
}
</pre></div> </div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Cross Platform Component Communication</a>      </li>
      <li class="navelem"><a class="el" href="developer.html">5. Developer</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer" />
<address class="footer"><small>Generated on Mon Mar 5 2012 19:28:08 for XPCC by&nbsp;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen" border="0" /></a> 1.7.5</small></address>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/xpcc/" : "http://sourceforge.net/apps/piwik/xpcc/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
try {
	var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
	piwikTracker.trackPageView();
	piwikTracker.enableLinkTracking();
} catch( err ) {}
</script>
<noscript>
<p><img src="http://sourceforge.net/apps/piwik/xpcc/piwik.php?idsite=1" style="border:0" alt=""/></p>
</noscript>
<!-- End Piwik Tag -->

</body>
</html>
